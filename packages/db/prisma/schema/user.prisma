// ============================================================================
// USER
// ============================================================================

model User {
  id            String    @id @default(dbgenerated("uuidv7()")) @db.VarChar(36)
  createdAt     DateTime  @default(now())
  updatedAt     DateTime  @updatedAt
  deletedAt     DateTime?

  email         String   @unique
  emailVerified Boolean  @default(false)
  name          String?
  image         String?

  // Platform-level role (for superadmin access)
  platformRole PlatformRole @default(user)

  // Relations
  accounts             Account[]
  sessions             Session[]
  organizations        OrganizationUser[]
  tokens               Token[]
  cronJobsCreated      CronJob[]
  webhookSubscriptions WebhookSubscription[]
  inquiriesSent        Inquiry[]             @relation("InquirySource")
  inquiriesReceived    Inquiry[]             @relation("InquiryTarget")

  @@index([email])
}

enum PlatformRole {
  user
  superadmin
}
